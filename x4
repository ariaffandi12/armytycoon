-- Tambahkan di bagian atas setelah definisi tombol MinimizeButton dan CloseButton

-- Ganti text dengan icon gambar
MinimizeButton.Text = ""
CloseButton.Text = ""

-- Ikon Asset ID
local MinimizeIcon = "rbxassetid://6035047409" -- Ikon minimize
local CloseIcon = "rbxassetid://6035047377" -- Ikon close

-- Tambahkan ikon gambar ke tombol minimize
local minimizeImage = Instance.new("ImageLabel")
minimizeImage.Parent = MinimizeButton
minimizeImage.BackgroundTransparency = 1
minimizeImage.Size = UDim2.new(1, 0, 1, 0)
minimizeImage.Image = MinimizeIcon
minimizeImage.ScaleType = Enum.ScaleType.Fit

-- Tambahkan ikon gambar ke tombol close
local closeImage = Instance.new("ImageLabel")
closeImage.Parent = CloseButton
closeImage.BackgroundTransparency = 1
closeImage.Size = UDim2.new(1, 0, 1, 0)
closeImage.Image = CloseIcon
closeImage.ScaleType = Enum.ScaleType.Fit

-- Tambahkan ikon ke semua tombol fitur

-- Kill All Units
KillAllUnitsButton.Text = "  Kill All Units"
KillAllUnitsButton.TextXAlignment = Enum.TextXAlignment.Left
local icon1 = Instance.new("ImageLabel")
icon1.Parent = KillAllUnitsButton
icon1.BackgroundTransparency = 1
icon1.Size = UDim2.new(0, 20, 0, 20)
icon1.Position = UDim2.new(0, 5, 0.5, -10)
icon1.Image = "rbxassetid://6031094678"

-- Get All Buildings
GetAllBuildingsButton.Text = "  Get All Buildings"
GetAllBuildingsButton.TextXAlignment = Enum.TextXAlignment.Left
local icon2 = Instance.new("ImageLabel")
icon2.Parent = GetAllBuildingsButton
icon2.BackgroundTransparency = 1
icon2.Size = UDim2.new(0, 20, 0, 20)
icon2.Position = UDim2.new(0, 5, 0.5, -10)
icon2.Image = "rbxassetid://6034818375"

-- Auto Rebirth
AutoRebirthButton.Text = "  Auto Rebirth: OFF"
AutoRebirthButton.TextXAlignment = Enum.TextXAlignment.Left
local icon3 = Instance.new("ImageLabel")
icon3.Parent = AutoRebirthButton
icon3.BackgroundTransparency = 1
icon3.Size = UDim2.new(0, 20, 0, 20)
icon3.Position = UDim2.new(0, 5, 0.5, -10)
icon3.Image = "rbxassetid://6031154874"

-- Nuke Player
NukePlayerButton.Text = "  Nuke Player"
NukePlayerButton.TextXAlignment = Enum.TextXAlignment.Left
local icon4 = Instance.new("ImageLabel")
icon4.Parent = NukePlayerButton
icon4.BackgroundTransparency = 1
icon4.Size = UDim2.new(0, 20, 0, 20)
icon4.Position = UDim2.new(0, 5, 0.5, -10)
icon4.Image = "rbxassetid://6031083032"

-- Kill Player Units
KillPlayerUnitsButton.Text = "  Kill Player Units"
KillPlayerUnitsButton.TextXAlignment = Enum.TextXAlignment.Left
local icon5 = Instance.new("ImageLabel")
icon5.Parent = KillPlayerUnitsButton
icon5.BackgroundTransparency = 1
icon5.Size = UDim2.new(0, 20, 0, 20)
icon5.Position = UDim2.new(0, 5, 0.5, -10)
icon5.Image = "rbxassetid://6034985299"

-- Nuke Mouse
NukeMouseButton.Text = "  Nuke Mouse (Q)"
NukeMouseButton.TextXAlignment = Enum.TextXAlignment.Left
local icon6 = Instance.new("ImageLabel")
icon6.Parent = NukeMouseButton
icon6.BackgroundTransparency = 1
icon6.Size = UDim2.new(0, 20, 0, 20)
icon6.Position = UDim2.new(0, 5, 0.5, -10)
icon6.Image = "rbxassetid://6031091009"

-- x4 Army
X4ArmyButton.Text = "  x4 Army: USE NOW"
X4ArmyButton.TextXAlignment = Enum.TextXAlignment.Left
local icon7 = Instance.new("ImageLabel")
icon7.Parent = X4ArmyButton
icon7.BackgroundTransparency = 1
icon7.Size = UDim2.new(0, 20, 0, 20)
icon7.Position = UDim2.new(0, 5, 0.5, -10)
icon7.Image = "rbxassetid://6031097897"

-- Upgrade Army
UpgradeArmyButton.Text = "  Upgrade Army"
UpgradeArmyButton.TextXAlignment = Enum.TextXAlignment.Left
local icon8 = Instance.new("ImageLabel")
icon8.Parent = UpgradeArmyButton
icon8.BackgroundTransparency = 1
icon8.Size = UDim2.new(0, 20, 0, 20)
icon8.Position = UDim2.new(0, 5, 0.5, -10)
icon8.Image = "rbxassetid://6035078887"

-- Pastikan tombol utama bisa digeser
TopBar.Active = true
TopBar.Selectable = true

-- Ganti fungsi drag agar lebih smooth
local function enableDragging(gui)
	local dragging = false
	local dragInput, mousePos, framePos

	gui.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			dragging = true
			mousePos = input.Position
			framePos = gui.Position

			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then
					dragging = false
				end
			end)
		end
	end)

	gui.InputChanged:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseMovement then
			dragInput = input
		end
	end)

	UserInputService.InputChanged:Connect(function(input)
		if input == dragInput and dragging then
			local delta = input.Position - mousePos
			gui.Position = UDim2.new(
				framePos.X.Scale, framePos.X.Offset + delta.X,
				framePos.Y.Scale, framePos.Y.Offset + delta.Y
			)
		end
	end)
end

-- Terapkan drag
enableDragging(MainFrame)
enableDragging(MinimizedFrame)
